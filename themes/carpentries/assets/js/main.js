console.log('This site was generated by Hugo.');
import Alpine from 'alpinejs'
import intersect from '@alpinejs/intersect'

window.Alpine = Alpine


Alpine.plugin(intersect)

window.addEventListener('proseReady', (event) => {
  Alpine.start();
})

const wrapper = document.querySelector('.h2-wrap')

window.addEventListener('DOMContentLoaded', (event) => {
  if(wrapper) {
    const tocItems = document.querySelectorAll(`.h2-toc #TableOfContents [href]`)
    tocItems.forEach((item, index) => {
      item.parentElement.setAttribute('x-on:click', `selected = 'nav-${index}'`)
      item.parentElement.setAttribute(':class', `{ 'active' : selected === 'nav-${index}' }`)
    })
    dispatchEvent(new Event('proseReady'))
  } else {
    dispatchEvent(new Event('proseReady'))
  }
})
